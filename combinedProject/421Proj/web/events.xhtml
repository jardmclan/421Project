<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:c="http://xmlns.jcp.org/jsp/jstl/core">
    <head>
        <title>Poke(mon) Bowl Discord DB</title>

        <link rel="stylesheet" type="text/css" href="index.css" />
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    </head>
<h:body>
    <div id="mastheadregion" class="mastheadregion"> <div id="masthead" class="masthead"></div></div>

    <div id="page" class="page">
        <div id="sidebar" class="sidebar">
            <ul>
                <li><a href="index.xhtml">Home</a></li>
                <li><a href="trading.xhtml">Trade Offers</a></li>
                <li><a href="breeding.xhtml">Breeding Projects</a></li>
                <li><a href="players.xhtml">Players</a></li>
                <li><a href="events.xhtml">Events</a></li>
                <li><a href="resources.xhtml">Resources</a></li>
                <li><a href="teams.xhtml">Teams</a></li>
                <span id="login" class="login">
                <li><a href="login.xhtml">Login</a></li>
                <li><a href="register.xhtml">Register</a></li>
                </span>
            </ul>
        </div> <!--end sidebar-->

        <div id="content" class="content">
            <p>This tool allows you to search for events that have been or will be held
            by the Poke(mon) Bowl Discord, as well as information such as which teams
            were used and what prizes were awarded.</p>
            <p>Fill in any fields you would like to search for matches on, and leave
            any fields blank for which the value does not matter.  You can also optionally
            specify a date range in which to search for events.  Leave all fields blank to
            search all events.</p>
            <p>In the dropdown menu, select what kind of result to display for the matching
            events.  "Info" displays the general info about the tourney on a top-level
            perspective, listing the advertised parameters of the tournament, and the 
            first place winner where applicable.  "Teams" lists the Pokemon used in the 
            tourney, grouped by placement and player.</p>
            
            <h:form>
                Event Name: &nbsp; <h:inputText id="EName" size="48" value="#{Events.name}" />  &nbsp;
                Format: &nbsp; <h:inputText id="Format" size="16" value="#{Events.format}" /> &nbsp;
                Location: &nbsp; <h:inputText id="Location" size="20" value="#{Events.location}" /> <br /><br />
                Date After (YYYY-MM-DD): &nbsp; <h:inputText id="After" size="8" value="#{Events.after}" /> &nbsp;
                Before (YYYY-MM-DD): &nbsp; <h:inputText id="Before" size="8" value="#{Events.before}" /> <br /><br />

                <h:selectOneListbox id="eventdata" value="#{Events.infoType}">
                    <f:selectItem id="info" itemLabel="Info" itemValue="info" />
                    <f:selectItem id="teams" itemLabel="Teams" itemValue="teams" />
                </h:selectOneListbox>
                <h:commandButton id="searchEvents" value="Search" action="#{Events.getInfo()}" />
            </h:form>
            <c:choose>
                <c:when test="#{Events.isInfo()}">
                    <h:dataTable value="#{Events.getEventDetails()}" var="c"
                         frame="border"
                         styleClass="tableheader"
                         cellspacing="12"
                         border="5">

                        <h:column>
                            <f:facet name="header">
                                Name   
                            </f:facet>
                                #{c.name}
                        </h:column>

                        <h:column>
                            <f:facet name="header">
                                Location   
                            </f:facet>
                            #{c.location}
                        </h:column>

                        <h:column>
                            <f:facet name="header">
                                Format   
                            </f:facet>
                            #{c.format}
                        </h:column>
                        <h:column>
                            <f:facet name="header">
                                Rules   
                            </f:facet>
                            #{c.rules}
                        </h:column>
                        <h:column>
                            <f:facet name="header">
                                Type   
                            </f:facet>
                            #{c.type}
                        </h:column>
                        <h:column>
                            <f:facet name="header">
                                Description   
                            </f:facet>
                            #{c.description}
                        </h:column>
                        <h:column>
                            <f:facet name="header">
                                Start Date   
                            </f:facet>
                            #{c.startDate}
                        </h:column>
                        <h:column>
                            <f:facet name="header">
                                End Date   
                            </f:facet>
                            #{c.endDate}
                        </h:column>
                        

                    </h:dataTable>
                </c:when>
                <c:when test="#{Events.isTeams()}">
                    <h:dataTable value="#{Events.getTeams()}" var="c"
                         frame="border"
                         styleClass="tableheader"
                         cellspacing="12"
                         border="5">

                        <h:column>
                            <f:facet name="header">
                                Name   
                            </f:facet>
                                #{c.name}
                        </h:column>

                        <h:column>
                            <f:facet name="header">
                                Gender   
                            </f:facet>
                            #{c.gender}
                        </h:column>

                        <h:column>
                            <f:facet name="header">
                                Shiny   
                            </f:facet>
                            #{c.shiny}
                        </h:column>
                        <h:column>
                            <f:facet name="header">
                                Nature
                            </f:facet>
                            #{c.nature}
                        </h:column>
                        <h:column>
                            <f:facet name="header">
                                Ability
                            </f:facet>
                            #{c.ability}
                        </h:column>
                        <h:column>
                            <f:facet name="header">
                                HP
                            </f:facet>
                            #{c.hp}
                        </h:column>
                        <h:column>
                            <f:facet name="header">
                                Attack
                            </f:facet>
                            #{c.attack}
                        </h:column>
                        <h:column>
                            <f:facet name="header">
                                Defense
                            </f:facet>
                            #{c.defense}
                        </h:column>
                        <h:column>
                            <f:facet name="header">
                                Special Attack
                            </f:facet>
                            #{c.spAttack}
                        </h:column>
                        <h:column>
                            <f:facet name="header">
                                Special Defense
                            </f:facet>
                            #{c.spDefense}
                        </h:column>
                        <h:column>
                            <f:facet name="header">
                                Speed
                            </f:facet>
                            #{c.speed}
                        </h:column>
                        <h:column>
                            <f:facet name="header">
                                Move 1
                            </f:facet>
                            #{c.move1}
                        </h:column>
                        <h:column>
                            <f:facet name="header">
                                Move 2
                            </f:facet>
                            #{c.move2}
                        </h:column>
                        <h:column>
                            <f:facet name="header">
                                Move 3
                            </f:facet>
                            #{c.move3}
                        </h:column>
                        <h:column>
                            <f:facet name="header">
                                Move 4
                            </f:facet>
                            #{c.move4}
                        </h:column>

                        <h:column>
                            <f:facet name="header">
                                Friend Code
                            </f:facet>
                            #{c.friendCode}
                        </h:column>
                        <h:column>
                            <f:facet name="header">
                                Discord Name
                            </f:facet>
                            #{c.discordName}
                        </h:column>

                    </h:dataTable>
                </c:when>
            </c:choose>
            <!-- TODO: Add filters to remove columns from results -->
        </div><!--end content-->

        
    </div> <!--end of "page"-->

    <div id="footer" class="footer"> <!--weirdly, css code for footer isn't working even though it's exactly same as sidebar-->
        <ul>
            <li><a href="index.xhtml">Home</a></li>
            <li><a href="trading.xhtml">Trade Offers</a></li>
            <li><a href="breeding.xhtml">Breeding Projects</a></li>
            <li><a href="players.xhtml">Players</a></li>
            <li><a href="events.xhtml">Events</a></li>
            <li><a href="resources.xhtml">Resources</a></li>
            <li><a href="teams.xhtml">Teams</a></li>
        </ul>
    </div> <!--end footer-->
</h:body>
</html>
